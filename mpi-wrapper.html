

<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Installation of the Legate MPI wrapper &#8212; NVIDIA legate (25.05.00.dev79+ge16aa516)</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/nvidia-sphinx-theme.css?v=df3ac72c" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/params.css" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=b86deeb1"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=4ea706d9"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'mpi-wrapper';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://docs.nvidia.com/legate/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '25.05';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            true;
        </script>
    <link rel="icon" href="_static/favicon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Building Legate from Source" href="BUILD.html" />
    <link rel="prev" title="Networking with Legate Wheels" href="networking-wheels.html" />

<script src="https://assets.adobedtm.com/5d4962a43b79/c1061d2c5e7b/launch-191c2462b890.min.js"></script>


  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA legate (25.05.00.dev79+ge16aa516) - Home"/>
    <img src="_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="NVIDIA legate (25.05.00.dev79+ge16aa516) - Home"/>
  
  
    <p class="title logo__title">NVIDIA legate (25.05.00.dev79+ge16aa516)</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">


<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        



  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA legate (25.05.00.dev79+ge16aa516) - Home"/>
    <img src="_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="NVIDIA legate (25.05.00.dev79+ge16aa516) - Home"/>
  
  
    <p class="title logo__title">NVIDIA legate (25.05.00.dev79+ge16aa516)</p>
  
</a>


  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">


<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">



<nav class="bd-docs-nav bd-links"
     aria-label="Table of Contents">
  <p class="bd-links__title" role="heading" aria-level="1">Table of Contents</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="user.html">User Guide</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="installation.html">Installing pre-built packages</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="networking-wheels.html">Networking with Legate Wheels</a></li>
<li class="toctree-l3 current active"><a class="current reference internal" href="#">Installation of the Legate MPI wrapper</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="BUILD.html">Building from source</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="jupyter.html">Using with Jupyter</a></li>
<li class="toctree-l2"><a class="reference internal" href="gasnet.html">GASNet-based Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="resources.html">Links to resources</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Contributing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="api/index.html">API Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/python/index.html">Python API Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/python/routines.html">Routines</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.core.get_legate_runtime.html">legate.core.get_legate_runtime</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.core.get_machine.html">legate.core.get_machine</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.core.track_provenance.html">legate.core.track_provenance</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/python/classes.html">Classes</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="api/python/runtime.html">Legate Runtime</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/operation.html">Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/logical_store.html">Store</a></li>

<li class="toctree-l4"><a class="reference internal" href="api/python/logical_array.html">Arrays</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/physical_store.html">Physical Store</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/physical_array.html">Physical Array</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/scalar.html">Scalar</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/machine.html">Machine and Resource Scoping</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/shape.html">Shape</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/variant_options.html">Variant Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/resource_config.html">ResourceConfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/task_context.html">Task Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/domain.html">Domains</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/task_config.html">Task Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/inline_allocation.html">Inline Allocations</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/symbolic_expr.html">Symbolic Expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/auto_task.html">Auto Tasks</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/manual_task.html">Manual Tasks</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/constraint.html">Constraints</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/variable.html">Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/library.html">Library</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/scope.html">Execution Scope</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/types.html">Types</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/python/tasks.html">Python Tasks</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.core.task.task.html">legate.core.task.task</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.core.task.InputStore.html">legate.core.task.InputStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.core.task.OutputStore.html">legate.core.task.OutputStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.core.task.ReductionStore.html">legate.core.task.ReductionStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.core.task.InputArray.html">legate.core.task.InputArray</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.core.task.OutputArray.html">legate.core.task.OutputArray</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.core.task.ReductionArray.html">legate.core.task.ReductionArray</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.core.task.PyTask.html">legate.core.task.PyTask</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.core.task.VariantInvoker.html">legate.core.task.VariantInvoker</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="api/python/settings.html">Settings</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api/python/io/index.html">I/O</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.io.hdf5.from_file.html">legate.io.hdf5.from_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.io.hdf5.kerchunk_read.html">legate.io.hdf5.kerchunk_read</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/io/hdf5_gds.html">Using GPUDirect Storage to perform HDF5 file I/O</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.core.experimental.io.file_handle.from_file.html">legate.core.experimental.io.file_handle.from_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.core.experimental.io.file_handle.to_file.html">legate.core.experimental.io.file_handle.to_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/python/generated/legate.core.experimental.io.file_handle.FileHandle.html">legate.core.experimental.io.file_handle.FileHandle</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="api/cpp/index.html">C++ API Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="api/cpp/data.html">Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/cpp/partitioning.html">Partitioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/cpp/runtime.html">Runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/cpp/mapping.html">Mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/cpp/types.html">Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/cpp/typedefs.html">Typedefs</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/cpp/task.html">Task</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/cpp/util.html">Util</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/cpp/io.html">IO</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="legate.stl/source/reference/index.html">Legate.STL Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="versions.html">Versions</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="changes/index.html">Changelog</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="changes/2505.html">2505</a></li>
<li class="toctree-l2"><a class="reference internal" href="changes/2503.html">2503</a></li>
<li class="toctree-l2"><a class="reference internal" href="changes/2501.html">2501</a></li>
<li class="toctree-l2"><a class="reference internal" href="changes/2411.html">2411</a></li>
<li class="toctree-l2"><a class="reference internal" href="changes/2406.html">2406</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="oss-licenses.html">Third-party notices</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Experimental Features:</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="legate.stl/source/legate-stl.html">Legate.STL</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="legate.stl/source/user/index.html">User guide</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="legate.stl/source/user/installation.html">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="legate.stl/source/user/usage.html">Usage</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="legate.stl/source/reference/index.html">Legate.STL Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
</ul>
</details></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="developer/index.html">Developer Documentation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="developer/style.html">Style</a></li>
</ul>
</details></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>



      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="user.html" class="nav-link">User Guide</a></li>
    
    
    <li class="breadcrumb-item"><a href="installation.html" class="nav-link">Installation</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Installation of the Legate MPI wrapper</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="installation-of-the-legate-mpi-wrapper">
<span id="installation-of-mpi-wrapper"></span><h1>Installation of the Legate MPI wrapper<a class="headerlink" href="#installation-of-the-legate-mpi-wrapper" title="Link to this heading">#</a></h1>
<p>If you want to use Legate in combination with a different MPI library than the
one it was compiled against (see the dependencies on the Legate package), e.g.,
you are on an HPC cluster and want to use the vendor’s MPI library, then you
will need to compile and install the Legate MPI wrapper locally on your machine.
See <a class="reference internal" href="faq.html#mpi-wrapper-faq"><span class="std std-ref">FAQ</span></a> for more information on why this is needed.  The
MPI mismatch may manifest in failures such as</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>failed<span class="w"> </span>to<span class="w"> </span>load<span class="w"> </span>MPI<span class="w"> </span>wrapper:<span class="w"> </span><span class="s1">&#39;some/path/to/liblegate_mpi_wrapper.so&#39;</span><span class="w"> </span>...
</pre></div>
</div>
<p>In order to build and install the wrapper you will need to have:</p>
<ul class="simple">
<li><p>CMake (at least version 3.22.1).</p></li>
<li><p>A C++ compiler.</p></li>
<li><p>A local installation of MPI.</p></li>
<li><p>Write access to the target install directory.</p></li>
</ul>
<p>Additionally, there are several environment variables that you can set in order to control
the build and installation process:</p>
<ul class="simple" id="influential-mpi-wrapper-vars">
<li><p><code class="docutils literal notranslate"><span class="pre">CMAKE</span></code>: name or path to the <code class="docutils literal notranslate"><span class="pre">cmake</span></code> executable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CMAKE_ARGS</span></code> or <code class="docutils literal notranslate"><span class="pre">CMAKE_CONFIGURE_ARGS</span></code>: if set, arguments to be passed to the
initial CMake configure command. If both are set, <code class="docutils literal notranslate"><span class="pre">CMAKE_CONFIGURE_ARGS</span></code> is preferred
over <code class="docutils literal notranslate"><span class="pre">CMAKE_ARGS</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CMAKE_BUILD_ARGS</span></code>: if set, arguments to be passed to the CMake build command.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CMAKE_INSTALL_ARGS</span></code>: if set, arguments to be passed to the CMake install command.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CMAKE_INSTALL_PREFIX</span></code>, <code class="docutils literal notranslate"><span class="pre">PREFIX</span></code>, or <code class="docutils literal notranslate"><span class="pre">DESTDIR</span></code>: path to which the MPI wrappers
should be installed. If one or more of these variables is set and not empty, they are
preferred in the order listed. That is, <code class="docutils literal notranslate"><span class="pre">CMAKE_INSTALL_PREFIX</span></code> will be preferred over
<code class="docutils literal notranslate"><span class="pre">PREFIX</span></code>, which is preferred over <code class="docutils literal notranslate"><span class="pre">DESTDIR</span></code>.</p></li>
</ul>
<section id="conda-installation">
<h2>Conda installation<a class="headerlink" href="#conda-installation" title="Link to this heading">#</a></h2>
<p>Assume Legate is already installed in a conda environment named <code class="docutils literal notranslate"><span class="pre">myenv</span></code>. We need to
activate this environment and install the wrapper packages that contain the scripts
necessary to build the wrappers (note the custom channel <code class="docutils literal notranslate"><span class="pre">legate/label/gex</span></code> in the
install command):</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conda<span class="w"> </span>activate<span class="w"> </span>myenv
$<span class="w"> </span>conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>-c<span class="w"> </span>legate/label/gex<span class="w"> </span>legate-mpi-wrapper
</pre></div>
</div>
<p>When the wrapper package is installed, the instructions for building the wrapper are
displayed:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>To<span class="w"> </span>finish<span class="w"> </span>configuring<span class="w"> </span>the<span class="w"> </span>Legate<span class="w"> </span>MPI<span class="w"> </span>wrapper,<span class="w"> </span>activate<span class="w"> </span>your<span class="w"> </span>environment<span class="w"> </span>and<span class="w"> </span>run
/path-to-myenv/mpi-wrapper/build-mpi-wrapper.sh
</pre></div>
</div>
<p>To build the wrapper, first activate the <code class="docutils literal notranslate"><span class="pre">myenv</span></code> environment:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conda<span class="w"> </span>activate<span class="w"> </span>myenv


---------------------<span class="w"> </span>CONDA/MPI_WRAPPER/ACTIVATE.SH<span class="w"> </span>-----------------------

<span class="nv">LEGATE_MPI_WRAPPER</span><span class="o">=</span>
</pre></div>
</div>
<p>Note that when the environment is activated without the wrapper built, the activation
script for the wrapper package sets the <code class="docutils literal notranslate"><span class="pre">LEGATE_MPI_WRAPPER</span></code> environment variable to an
empty value, since there is no wrapper shared library to find yet.</p>
<p>After the environment is activated, we can build the MPI wrapper:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>/path-to-myenv/mpi-wrapper/build-mpi-wrapper.sh
</pre></div>
</div>
<p>Once the wrapper is built, reactivate the environment to set the necessary environment
variables:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conda<span class="w"> </span>deactivate


---------------------<span class="w"> </span>CONDA/MPI_WRAPPER/DEACTIVATE.SH<span class="w"> </span>-----------------------

+++<span class="w"> </span><span class="nb">unset</span><span class="w"> </span>LEGATE_MPI_WRAPPER
+++<span class="w"> </span><span class="nb">set</span><span class="w"> </span>+x
$<span class="w"> </span>conda<span class="w"> </span>activate<span class="w"> </span>myenv


---------------------<span class="w"> </span>CONDA/MPI_WRAPPER/ACTIVATE.SH<span class="w"> </span>-----------------------

<span class="nv">LEGATE_MPI_WRAPPER</span><span class="o">=</span>/path-to-myenv/mpi-wrapper/lib64/liblgcore_mpi_wrapper.so
</pre></div>
</div>
<p>Note that the activation script now successfully located the MPI wrapper shared library.</p>
<p>It might also be useful to remove the MPI conda package that Legate was compiled against
(typically <code class="docutils literal notranslate"><span class="pre">openmpi</span></code>), to make sure that there is only one choice of MPI to use:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conda<span class="w"> </span>uninstall<span class="w"> </span>--force<span class="w"> </span>openmpi
</pre></div>
</div>
</section>
<section id="source-build">
<h2>Source build<a class="headerlink" href="#source-build" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When building Legate from source, the MPI wrapper is generally <strong>not needed</strong>. The
build system will automatically compile and link a default wrapper (using whatever
implementation of MPI it finds on your system) for you. It is only needed if:</p>
<ol class="arabic simple">
<li><p>You wish to use a different flavor of MPI at runtime than that which Legate was
built against.</p></li>
<li><p>You wish to package Legate yourself, and want to provide build instructions for
downstream users, or perhaps invoke the wrapper build during your own package
installation.</p></li>
</ol>
</div>
<p>Assuming Legate is installed to a directory called <code class="docutils literal notranslate"><span class="pre">/path/to/prefix</span></code>, to build and
install the wrappers simply run the following:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>/path/to/prefix/share/legate/mpi_wrapper/install.bash
</pre></div>
</div>
<p>The same command also exists in the source directory, under the same directory tree:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="si">${</span><span class="nv">LEGATE_DIR</span><span class="si">}</span>/share/legate/mpi_wrapper/install.bash
</pre></div>
</div>
<p>This command will build and install the MPI wrappers to the default installation
prefix. To change the default installation prefix, or supply additional arguments to the
build, see the list of <a class="reference internal" href="#influential-mpi-wrapper-vars"><span class="std std-ref">Influential MPI variables</span></a>.</p>
<p>Once the wrapper is built, Legate must still be instructed to load it (and not the default
wrapper which was built during the original source build). To do so, you must set the
<code class="docutils literal notranslate"><span class="pre">LEGATE_MPI_WRAPPER</span></code> environment variable to the absolute path to the installed shared
library. Assuming the wrapper was installed to <code class="docutils literal notranslate"><span class="pre">/my/prefix/directory</span></code>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="c1"># On Linux</span>
$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">LEGATE_MPI_WRAPPER</span><span class="o">=</span><span class="s2">&quot;/my/prefix/directory/lib/legate_mpi_wrapper.so&quot;</span>
<span class="c1"># On macOS</span>
$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">LEGATE_MPI_WRAPPER</span><span class="o">=</span><span class="s2">&quot;/my/prefix/directory/lib/legate_mpi_wrapper.dylib&quot;</span>
</pre></div>
</div>
<p>As with any environment variable, you can either <code class="docutils literal notranslate"><span class="pre">export</span></code> it once (as above), or set it
before invoking a Legate application:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nv">LEGATE_MPI_WRAPPER</span><span class="o">=</span><span class="s2">&quot;/path/to/legate_mpi_wrapper.so&quot;</span><span class="w"> </span>./my_legate_app<span class="w"> </span>...
</pre></div>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="networking-wheels.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Networking with Legate Wheels</p>
      </div>
    </a>
    <a class="right-next"
       href="BUILD.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Building Legate from Source</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            


              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conda-installation">Conda installation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#source-build">Source build</a></li>
</ul>
  </nav></div>

</div></div>
              
            

          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
<a class="footer-brand logo" href="https://www.nvidia.com">
  <img src="_static/nvidia-logo-horiz-rgb-1c-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA"/>
  <img src="_static/nvidia-logo-horiz-rgb-1c-wht-for-screen.svg" class="logo__image only-dark" alt="NVIDIA"/>
</a></div>
      
        <div class="footer-item">

<div class="footer-links">
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/privacy-policy/">Privacy Policy</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/privacy-center/">Manage My Privacy</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/preferences/start/">Do Not Sell or Share My Data</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/terms-of-service/">Terms of Service</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/accessibility/">Accessibility</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/company-policies/">Corporate Policies</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/product-security/">Product Security</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/contact/">Contact</a>
  
  
  
</div>
</div>
      
        <div class="footer-item">




  <p class="copyright">
    
      Copyright © 2021-2025, NVIDIA.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
<div class="extra_footer">
  
  <script type="text/javascript">if (typeof _satellite !== “undefined”){ _satellite.pageBottom();}</script>
  
</div></div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>