

<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Machine and Resource Scoping &#8212; NVIDIA legate (25.05.00.dev182+g7ff70140)</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/nvidia-sphinx-theme.css?v=df3ac72c" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/params.css" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=4a7dd8a3"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=4ea706d9"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/python/machine';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.16.1';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://docs.nvidia.com/legate/switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = '25.05';
        DOCUMENTATION_OPTIONS.show_version_warning_banner =
            true;
        </script>
    <link rel="icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="legate.core.Machine.preferred_target" href="generated/legate.core.Machine.preferred_target.html" />
    <link rel="prev" title="legate.core.Scalar.value" href="generated/legate.core.Scalar.value.html" />

<script src="https://assets.adobedtm.com/5d4962a43b79/c1061d2c5e7b/launch-191c2462b890.min.js"></script>


  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA legate (25.05.00.dev182+g7ff70140) - Home"/>
    <img src="../../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="NVIDIA legate (25.05.00.dev182+g7ff70140) - Home"/>
  
  
    <p class="title logo__title">NVIDIA legate (25.05.00.dev182+g7ff70140)</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">


<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-2"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-2"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-2"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-2">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        



  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/nvidia-logo-horiz-rgb-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA legate (25.05.00.dev182+g7ff70140) - Home"/>
    <img src="../../_static/nvidia-logo-horiz-rgb-wht-for-screen.svg" class="logo__image only-dark pst-js-only" alt="NVIDIA legate (25.05.00.dev182+g7ff70140) - Home"/>
  
  
    <p class="title logo__title">NVIDIA legate (25.05.00.dev182+g7ff70140)</p>
  
</a>


  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">


<div class="version-switcher__container dropdown pst-js-only">
  <button id="pst-version-switcher-button-3"
    type="button"
    class="version-switcher__button btn btn-sm dropdown-toggle"
    data-bs-toggle="dropdown"
    aria-haspopup="listbox"
    aria-controls="pst-version-switcher-list-3"
    aria-label="Version switcher list"
  >
    Choose version  <!-- this text may get changed later by javascript -->
    <span class="caret"></span>
  </button>
  <div id="pst-version-switcher-list-3"
    class="version-switcher__menu dropdown-menu list-group-flush py-0"
    role="listbox" aria-labelledby="pst-version-switcher-button-3">
    <!-- dropdown will be populated by javascript on page load -->
  </div>
</div></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">



<nav class="bd-docs-nav bd-links"
     aria-label="Table of Contents">
  <p class="bd-links__title" role="heading" aria-level="1">Table of Contents</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../installation.html">Installing pre-built packages</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../networking-wheels.html">Networking with Legate Wheels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mpi-wrapper.html">Installation of the Legate MPI wrapper</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../BUILD.html">Building from source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../CONTRIBUTING.html">Contributing Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../manual/index.html">User Manual</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../manual/overview/index.html">Overview</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../manual/overview/nutshell.html">Legate In a Nutshell</a></li>
</ul>
</details></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/introduction/index.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/runtime/index.html">The Runtime</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/tasks/index.html">Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/data/index.html">Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../manual/mappers/index.html">Mappers</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../manual/usage/index.html">Running Legate Programs</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../manual/usage/running.html">Running Legate Programs</a></li>




<li class="toctree-l3"><a class="reference internal" href="../../manual/usage/hdf5_gds.html">HDF5 GPU-Direct Storage I/O</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../manual/usage/jupyter.html">Using with Jupyter</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../index.html">API Reference</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="index.html">Python API Reference</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3 has-children"><a class="reference internal" href="routines.html">Routines</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.core.get_legate_runtime.html">legate.core.get_legate_runtime</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.core.get_machine.html">legate.core.get_machine</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.core.track_provenance.html">legate.core.track_provenance</a></li>
</ul>
</details></li>
<li class="toctree-l3 current active has-children"><a class="reference internal" href="classes.html">Classes</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="runtime.html">Legate Runtime</a></li>
<li class="toctree-l4"><a class="reference internal" href="operation.html">Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="logical_store.html">Store</a></li>

<li class="toctree-l4"><a class="reference internal" href="logical_array.html">Arrays</a></li>
<li class="toctree-l4"><a class="reference internal" href="physical_store.html">Physical Store</a></li>
<li class="toctree-l4"><a class="reference internal" href="physical_array.html">Physical Array</a></li>
<li class="toctree-l4"><a class="reference internal" href="scalar.html">Scalar</a></li>
<li class="toctree-l4 current active"><a class="current reference internal" href="#">Machine and Resource Scoping</a></li>
<li class="toctree-l4"><a class="reference internal" href="shape.html">Shape</a></li>
<li class="toctree-l4"><a class="reference internal" href="variant_options.html">Variant Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="resource_config.html">ResourceConfig</a></li>
<li class="toctree-l4"><a class="reference internal" href="task_context.html">Task Context</a></li>
<li class="toctree-l4"><a class="reference internal" href="domain.html">Domains</a></li>
<li class="toctree-l4"><a class="reference internal" href="task_config.html">Task Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="task_local_buffer.html">Task-Local Buffers</a></li>
<li class="toctree-l4"><a class="reference internal" href="inline_allocation.html">Inline Allocations</a></li>
<li class="toctree-l4"><a class="reference internal" href="symbolic_expr.html">Symbolic Expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="auto_task.html">Auto Tasks</a></li>
<li class="toctree-l4"><a class="reference internal" href="manual_task.html">Manual Tasks</a></li>
<li class="toctree-l4"><a class="reference internal" href="constraint.html">Constraints</a></li>
<li class="toctree-l4"><a class="reference internal" href="variable.html">Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="library.html">Library</a></li>
<li class="toctree-l4"><a class="reference internal" href="scope.html">Execution Scope</a></li>
<li class="toctree-l4"><a class="reference internal" href="parallel_policy.html">ParallelPolicy</a></li>
<li class="toctree-l4"><a class="reference internal" href="types.html">Types</a></li>
</ul>
</details></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="tasks.html">Python Tasks</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.core.task.task.html">legate.core.task.task</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.core.task.InputStore.html">legate.core.task.InputStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.core.task.OutputStore.html">legate.core.task.OutputStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.core.task.ReductionStore.html">legate.core.task.ReductionStore</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.core.task.InputArray.html">legate.core.task.InputArray</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.core.task.OutputArray.html">legate.core.task.OutputArray</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.core.task.ReductionArray.html">legate.core.task.ReductionArray</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.core.task.PyTask.html">legate.core.task.PyTask</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.core.task.VariantInvoker.html">legate.core.task.VariantInvoker</a></li>
</ul>
</details></li>
<li class="toctree-l3"><a class="reference internal" href="settings.html">Settings</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="io/index.html">I/O</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.io.hdf5.from_file.html">legate.io.hdf5.from_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.io.hdf5.kerchunk_read.html">legate.io.hdf5.kerchunk_read</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.core.experimental.io.file_handle.from_file.html">legate.core.experimental.io.file_handle.from_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.core.experimental.io.file_handle.to_file.html">legate.core.experimental.io.file_handle.to_file</a></li>
<li class="toctree-l4"><a class="reference internal" href="generated/legate.core.experimental.io.file_handle.FileHandle.html">legate.core.experimental.io.file_handle.FileHandle</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../cpp/index.html">C++ API Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../cpp/data.html">Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cpp/partitioning.html">Partitioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cpp/runtime.html">Runtime</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cpp/mapping.html">Mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cpp/tuning.html">Tuning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cpp/types.html">Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cpp/typedefs.html">Typedefs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cpp/task.html">Task</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cpp/util.html">Util</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cpp/io.html">IO</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../legate.stl/source/reference/index.html">Legate.STL Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
</ul>
</details></li>
</ul>
</details></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">Versions</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../changes/index.html">Changelog</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../changes/2505.html">2505</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/2503.html">2503</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/2501.html">2501</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/2411.html">2411</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changes/2406.html">2406</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../oss-licenses.html">Third-party notices</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Experimental Features:</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../legate.stl/source/legate-stl.html">Legate.STL</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../legate.stl/source/user/index.html">User guide</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="../../legate.stl/source/user/installation.html">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../legate.stl/source/user/usage.html">Usage</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../legate.stl/source/reference/index.html">Legate.STL Reference</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="simple">
</ul>
</details></li>
</ul>
</details></li>
</ul>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../developer/index.html">Developer Documentation</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../developer/style.html">Style</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../gasnet.html">GASNet-based Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">Links to resources</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>



      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">API Reference</a></li>
    
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">Python API Reference</a></li>
    
    
    <li class="breadcrumb-item"><a href="classes.html" class="nav-link">Classes</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Machine and Resource Scoping</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="machine-and-resource-scoping">
<span id="label-machine"></span><h1>Machine and Resource Scoping<a class="headerlink" href="#machine-and-resource-scoping" title="Link to this heading">#</a></h1>
<p>By default, each Legate operation is allowed to use the entire machine for
parallelization, but oftentimes client programs want control on the machine
resource assigned to each section of the program. Legate provides a
programmatic way to control resource assignment, called a <em>resource scoping</em>.</p>
<p>To scope the resource, a client takes two steps. First, the client queries the
machine resource available in the given scope and shrinks it to a subset to
assign to a scope. Then, the client assigns that subset of the machine to a scope
with a  usual <code class="docutils literal notranslate"><span class="pre">with</span></code> statement. All Legate operations issued within that
<code class="docutils literal notranslate"><span class="pre">with</span></code> block are now subject to the resource scoping. The steps look like the
following pseudocode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Retrieves the machine of the current scope</span>
<span class="n">machine</span> <span class="o">=</span> <span class="n">legate</span><span class="o">.</span><span class="n">get_machine</span><span class="p">()</span>
<span class="c1"># Extracts a subset to assign to a nested scope</span>
<span class="n">subset</span> <span class="o">=</span> <span class="n">extract_subset</span><span class="p">(</span><span class="n">machine</span><span class="p">)</span>
<span class="c1"># Installs the new machine to a scope</span>
<span class="k">with</span> <span class="n">subset</span><span class="p">:</span>
  <span class="o">...</span>
</pre></div>
</div>
<p>The machine available to a nested scope is always a subset of that for the
outer scope. If the machine given to a scope has some resources that are not
part of the machine for the outer scope, they will be removed during the
resource scoping. The machine used in a scoping must not be empty; otherwise,
an <code class="docutils literal notranslate"><span class="pre">EmptyMachineError</span></code> will be raised.</p>
<p>In cases where a machine has more than one kind of processor, the
parallelization heuristic has the following precedence on preference between
different types: GPU &gt; OpenMP &gt; CPU.</p>
<p>Metadata about the machine is stored in a <code class="docutils literal notranslate"><span class="pre">Machine</span></code> object and the
<code class="docutils literal notranslate"><span class="pre">Machine</span></code> class provides APIs for querying and subdivision of resources.</p>
<section id="machine">
<h2>Machine<a class="headerlink" href="#machine" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/legate.core.Machine.preferred_target.html#legate.core.Machine.preferred_target" title="legate.core.Machine.preferred_target"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Machine.preferred_target</span></code></a></p></td>
<td><p>TaskTarget Returns the preferred kind of processors for mapping tasks</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/legate.core.Machine.valid_targets.html#legate.core.Machine.valid_targets" title="legate.core.Machine.valid_targets"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Machine.valid_targets</span></code></a></p></td>
<td><p>tuple[TaskTarget, ...] Returns the kinds of processors available in this machine</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/legate.core.Machine.get_processor_range.html#legate.core.Machine.get_processor_range" title="legate.core.Machine.get_processor_range"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Machine.get_processor_range</span></code></a>(self[, target])</p></td>
<td><p>Returns the processor range of a given task target.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/legate.core.Machine.get_node_range.html#legate.core.Machine.get_node_range" title="legate.core.Machine.get_node_range"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Machine.get_node_range</span></code></a>(self[, target])</p></td>
<td><p>Returns the node range for processor of a given task target.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/legate.core.Machine.only.html#legate.core.Machine.only" title="legate.core.Machine.only"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Machine.only</span></code></a>(self, targets)</p></td>
<td><p>Returns a machine that contains only the processors of given kinds</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/legate.core.Machine.count.html#legate.core.Machine.count" title="legate.core.Machine.count"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Machine.count</span></code></a>(self[, target])</p></td>
<td><p>Returns the number of processors of a given task target</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/legate.core.Machine.empty.html#legate.core.Machine.empty" title="legate.core.Machine.empty"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Machine.empty</span></code></a></p></td>
<td><p>bool Indicates if the machine is empty</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/legate.core.Machine.__and__.html#legate.core.Machine.__and__" title="legate.core.Machine.__and__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Machine.__and__</span></code></a>(self, Machine other)</p></td>
<td><p>Computes an intersection with a given machine</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/legate.core.Machine.__len__.html#legate.core.Machine.__len__" title="legate.core.Machine.__len__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Machine.__len__</span></code></a>(self)</p></td>
<td><p>Returns the number of preferred processors</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/legate.core.Machine.__getitem__.html#legate.core.Machine.__getitem__" title="legate.core.Machine.__getitem__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Machine.__getitem__</span></code></a>(self, key)</p></td>
<td><p>Slices the machine with a given slicer</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="processorrange">
<h2>ProcessorRange<a class="headerlink" href="#processorrange" title="Link to this heading">#</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">ProcessorRange</span></code> is a half-open interval of global processor IDs.</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/legate.core.ProcessorRange.low.html#legate.core.ProcessorRange.low" title="legate.core.ProcessorRange.low"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProcessorRange.low</span></code></a></p></td>
<td><p>uint32_t Returns the lower bound of the processor range</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/legate.core.ProcessorRange.high.html#legate.core.ProcessorRange.high" title="legate.core.ProcessorRange.high"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProcessorRange.high</span></code></a></p></td>
<td><p>uint32_t Returns the upper bound of the processor range</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/legate.core.ProcessorRange.per_node_count.html#legate.core.ProcessorRange.per_node_count" title="legate.core.ProcessorRange.per_node_count"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProcessorRange.per_node_count</span></code></a></p></td>
<td><p>uint32_t Returns the number of processors per node</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/legate.core.ProcessorRange.empty.html#legate.core.ProcessorRange.empty" title="legate.core.ProcessorRange.empty"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProcessorRange.empty</span></code></a></p></td>
<td><p>bool Indicates if the processor range is empty</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/legate.core.ProcessorRange.get_node_range.html#legate.core.ProcessorRange.get_node_range" title="legate.core.ProcessorRange.get_node_range"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProcessorRange.get_node_range</span></code></a>(self)</p></td>
<td><p>Returns the range of node IDs for this processor range</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/legate.core.ProcessorRange.slice.html#legate.core.ProcessorRange.slice" title="legate.core.ProcessorRange.slice"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProcessorRange.slice</span></code></a>(self, slice sl)</p></td>
<td><p>Slices the processor range by a given <code class="docutils literal notranslate"><span class="pre">slice</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/legate.core.ProcessorRange.__and__.html#legate.core.ProcessorRange.__and__" title="legate.core.ProcessorRange.__and__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProcessorRange.__and__</span></code></a>(self, ...)</p></td>
<td><p>Computes an intersection with a given processor range</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="generated/legate.core.ProcessorRange.__len__.html#legate.core.ProcessorRange.__len__" title="legate.core.ProcessorRange.__len__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProcessorRange.__len__</span></code></a>(self)</p></td>
<td><p>Returns the number of processors in the range</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="generated/legate.core.ProcessorRange.__getitem__.html#legate.core.ProcessorRange.__getitem__" title="legate.core.ProcessorRange.__getitem__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ProcessorRange.__getitem__</span></code></a>(self, key)</p></td>
<td><p>Slices the processor range with a given slicer</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="generated/legate.core.Scalar.value.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">legate.core.Scalar.value</p>
      </div>
    </a>
    <a class="right-next"
       href="generated/legate.core.Machine.preferred_target.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">legate.core.Machine.preferred_target</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            


              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#machine">Machine</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#processorrange">ProcessorRange</a></li>
</ul>
  </nav></div>

</div></div>
              
            

          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
<a class="footer-brand logo" href="https://www.nvidia.com">
  <img src="../../_static/nvidia-logo-horiz-rgb-1c-blk-for-screen.svg" class="logo__image only-light" alt="NVIDIA"/>
  <img src="../../_static/nvidia-logo-horiz-rgb-1c-wht-for-screen.svg" class="logo__image only-dark" alt="NVIDIA"/>
</a></div>
      
        <div class="footer-item">

<div class="footer-links">
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/privacy-policy/">Privacy Policy</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/privacy-center/">Manage My Privacy</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/preferences/start/">Do Not Sell or Share My Data</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/terms-of-service/">Terms of Service</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/accessibility/">Accessibility</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/about-nvidia/company-policies/">Corporate Policies</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/product-security/">Product Security</a>
   | 
  
  
  
  <a class="external" href="https://www.nvidia.com/en-us/contact/">Contact</a>
  
  
  
</div>
</div>
      
        <div class="footer-item">




  <p class="copyright">
    
      Copyright © 2021-2025, NVIDIA.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
<div class="extra_footer">
  
  <script type="text/javascript">if (typeof _satellite !== “undefined”){ _satellite.pageBottom();}</script>
  
</div></div>
      
    </div>
  
  
  
</div>

  </footer>
  </body>
</html>